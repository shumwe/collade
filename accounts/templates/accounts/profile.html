{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-sm-12 d-flex justify-content-center">
            <img class="rounded-circle" src="{% if user.avatar %}{{user.avatar.url}}{% else %}{% static 'img/default_avatar.jpg' %}{% endif %}" 
            width="150" height="150" alt="{{user.username}}-avatar">
        </div>
    </div>
    <div class="row">
        <h4 class="text-center fw-bold">@{{user.username}}</h4>
    </div>
    <!--<div class="row">
        <div class="col-sm-12 col-12 d-flex justify-content-center">
            <span class="fw-bold">{{favs.count}}</span>&nbsp;In favourites
        </div>       
    </div> -->
    <div class="row mt-4">
        <p class="text-center fw-bold text-family">
            <a href="{% url 'tutorials' %}" class="text-decoration-none nav-link">Explore our articles <em class="bi bi-arrow-down"></em></a>
        </p>
    </div>
    <hr class="mt-3">

    {% if user.favourites %}
    <h3 class="text-center mb-2 text-decoration-underline text-family">@{{user.username}} favourites articles</h3>
    <div class="row row-cols-1 row-cols-lg-3 g-2 mt-4">
        {% for obj in favs %}
            {% include 'tutorials/includes/tutorial_obj.html' %}
        {% endfor %}
    </div>

    {% endif %}

</div>
{% endblock %}

{% for fav in user.favourites.all %}
            {% for obj in tutorials %}
                {% if fav.fav_tutorial == obj %}
                {% include 'tutorials/includes/tutorial_obj.html' %}
                {% endif %}
            {% endfor %}
        {% endfor %}